{% extends "base.html" %}
{% block title %}Register for Event - EventEase{% endblock %}

{% block content %}
<div class="container my-4">
    <h2>Register for Event</h2>
    
    <form method="POST" onsubmit="return validateRegistrationForm()">
        <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" name="name" class="form-control" required minlength="3" placeholder="Enter your full name">
        </div>

        <div class="form-group">
            <label for="email">Email address</label>
            <input type="email" name="email" class="form-control" required placeholder="Enter your email">
        </div>

        <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" name="phone" class="form-control" required pattern="[6-9]{1}[0-9]{9}" placeholder="10-digit Indian phone number">
            <small class="form-text text-muted">Format: 9876543210</small>
        </div>

        <button type="submit" class="btn btn-primary">Register</button>
    </form>
</div>

<!-- Client-side validation script -->
<script>
function validateRegistrationForm() {
    const name = document.querySelector('input[name="name"]').value.trim();
    const email = document.querySelector('input[name="email"]').value.trim();
    const phone = document.querySelector('input[name="phone"]').value.trim();

    // Basic phone format check (already handled by pattern, this is extra layer)
    const phonePattern = /^[6-9]\d{9}$/;
    
    if (name.length < 3) {
        alert("Name must be at least 3 characters.");
        return false;
    }

    if (!phonePattern.test(phone)) {
        alert("Enter a valid 10-digit phone number starting with 6-9.");
        return false;
    }

    return true; // Allow form to submit
}
</script>
{% endblock %}
